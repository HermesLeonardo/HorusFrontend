<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="projetos-container">
  <div class="topo-projetos">
    <h2>Gerenciamento de Projetos</h2>
    <button class="novo-projeto-btn" (click)="abrirDialog()">
      <i class="pi pi-plus"></i> Novo Projeto
    </button>
  </div>

  <!-- Seção de Filtros -->
  <div class="filtros-container">
    <p-dropdown [options]="statusOptions" [(ngModel)]="filtro.status" placeholder="Status"></p-dropdown>
    <p-dropdown [options]="prioridadeOptions" [(ngModel)]="filtro.prioridade" placeholder="Prioridade"></p-dropdown>
    <input pInputText [(ngModel)]="filtro.nome" placeholder="Buscar Projeto..." />
    <button class="filtro-btn" (click)="filtrarProjetos()">
      <i class="pi pi-filter"></i> Filtrar
    </button>
    <button class="filtro-btn limpar" (click)="resetarFiltros()">
      <i class="pi pi-times"></i> Limpar
    </button>
  </div>

  <!-- Card com Tabela de Projetos -->
  <div class="projetos-card">
    <p-table [value]="projetosFiltrados" [paginator]="true" [rows]="5" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="nome">Nome <p-sortIcon field="nome"></p-sortIcon></th>
          <th pSortableColumn="status">Status <p-sortIcon field="status"></p-sortIcon></th>
          <th pSortableColumn="prioridade">Prioridade <p-sortIcon field="prioridade"></p-sortIcon></th>
          <th>Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-projeto>
        <tr>
          <td>{{ projeto.nome }}</td>
          <td>{{ projeto.status }}</td>
          <td>{{ projeto.prioridade }}</td>
          <td>
            <button class="acao-btn visualizar" (click)="visualizarProjeto(projeto)">
              <i class="pi pi-eye"></i>
            </button>
            <button class="acao-btn editar" (click)="abrirDialog(projeto)">
              <i class="pi pi-pencil"></i>
            </button>
            <button class="acao-btn excluir" (click)="confirmarExclusao(projeto)">
              <i class="pi pi-trash"></i>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>



</div>